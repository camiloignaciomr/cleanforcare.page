---
import Button from './Button.astro';

interface Props {
  menuItems: Array<{ text: string; href: string }>;
}

const { menuItems } = Astro.props;
---

<div 
  id="mobile-menu"
  class="fixed inset-0 bg-bl z-50 transform transition-transform duration-500 translate-x-full"
>
  <div class="h-20 flex items-center justify-between px-4 border-b border-gray-100" bg-white>
    <a href="/" class="flex items-center">
      <span class="text-2xl font-bold text-primary">Cleanforcare</span>
    </a>
    <button id="close-menu" class="text-gray-500 hover:text-primary">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>
  
  <div class="px-4 py-8 flex flex-col h-[calc(100vh-5rem)]">
    <nav class="flex-1">
      <ul class="space-y-6">
        {menuItems.map(item => (
          <li>
            <a 
              href={item.href} 
              class="text-xl font-medium text-gray-900 hover:text-primary block py-2"
            >
              {item.text}
            </a>
          </li>
        ))}
      </ul>
    </nav>
    
    <div class="border-t border-gray-100 pt-6 space-y-4">
      <a href="tel:1300000000" class="flex items-center text-lg text-gray-700 hover:text-primary">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
        </svg>
        1300 000 000
      </a>
      <Button href="/contact" className="w-full text-center">
        Get Quote
      </Button>
    </div>
  </div>
</div>

<script>
  const mobileMenu = document.getElementById('mobile-menu');
  const menuToggle = document.getElementById('menu-toggle');
  const closeMenu = document.getElementById('close-menu');

  function toggleMenu() {
    mobileMenu?.classList.toggle('translate-x-full');
  }

  menuToggle?.addEventListener('click', toggleMenu);
  closeMenu?.addEventListener('click', toggleMenu);
</script>